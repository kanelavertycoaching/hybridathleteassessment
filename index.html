<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KLC Hybrid Athlete Assessment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #000000;
            --white: #FFFFFF;
            --border-width: 6px;
            --spacing: 24px;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background: var(--white);
            color: var(--black);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            border: var(--border-width) solid var(--black);
            padding: 40px;
            margin-bottom: 40px;
            background: var(--black);
            color: var(--white);
            position: relative;
        }

        .header h1 {
            font-size: 48px;
            font-weight: bold;
            letter-spacing: -2px;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        .header p {
            font-size: 18px;
            font-weight: normal;
            opacity: 0.9;
        }

        .klc-logo {
            position: absolute;
            top: 40px;
            right: 40px;
            font-size: 72px;
            font-weight: bold;
            opacity: 0.1;
        }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 40px;
            border: var(--border-width) solid var(--black);
            overflow: hidden;
        }

        .tab {
            flex: 1;
            padding: 20px;
            background: var(--white);
            color: var(--black);
            border: none;
            border-right: var(--border-width) solid var(--black);
            font-family: 'Courier New', Courier, monospace;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.2s;
        }

        .tab:last-child {
            border-right: none;
        }

        .tab:hover {
            background: var(--black);
            color: var(--white);
        }

        .tab.active {
            background: var(--black);
            color: var(--white);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Section */
        .section {
            border: var(--border-width) solid var(--black);
            margin-bottom: 40px;
            background: var(--white);
        }

        .section-header {
            background: var(--black);
            color: var(--white);
            padding: 24px;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: -1px;
        }

        .section-content {
            padding: 32px;
        }

        /* Form Elements */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: bold;
            margin-bottom: 8px;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        input[type="number"],
        input[type="text"],
        select {
            padding: 16px;
            border: 4px solid var(--black);
            font-family: 'Courier New', Courier, monospace;
            font-size: 18px;
            background: var(--white);
            color: var(--black);
            font-weight: bold;
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            background: var(--black);
            color: var(--white);
        }

        input[type="number"]::placeholder,
        input[type="text"]::placeholder {
            color: #999;
            font-weight: normal;
        }

        /* Buttons */
        .btn {
            padding: 20px 40px;
            background: var(--black);
            color: var(--white);
            border: var(--border-width) solid var(--black);
            font-family: 'Courier New', Courier, monospace;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.2s;
            letter-spacing: 1px;
        }

        .btn:hover {
            background: var(--white);
            color: var(--black);
        }

        .btn-secondary {
            background: var(--white);
            color: var(--black);
        }

        .btn-secondary:hover {
            background: var(--black);
            color: var(--white);
        }

        /* Score Display */
        .score-box {
            border: var(--border-width) solid var(--black);
            padding: 32px;
            text-align: center;
            background: var(--black);
            color: var(--white);
            margin-bottom: 24px;
        }

        .score-value {
            font-size: 96px;
            font-weight: bold;
            line-height: 1;
            margin-bottom: 12px;
        }

        .score-label {
            font-size: 18px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Rating Display */
        .rating-display {
            border: var(--border-width) solid var(--black);
            padding: 24px;
            margin-bottom: 24px;
            background: var(--white);
        }

        .rating-title {
            font-size: 32px;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .rating-desc {
            font-size: 16px;
        }

        /* Progress Chart */
        .chart-container {
            border: var(--border-width) solid var(--black);
            padding: 32px;
            margin-bottom: 24px;
            min-height: 300px;
            background: var(--white);
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            height: 250px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 4px solid var(--black);
        }

        .bar {
            flex: 1;
            background: var(--black);
            margin: 0 8px;
            position: relative;
            min-height: 20px;
            transition: height 0.5s ease;
        }

        .bar-label {
            position: absolute;
            bottom: -30px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .bar-value {
            position: absolute;
            top: -24px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
        }

        /* Results Table */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 24px;
        }

        .results-table th,
        .results-table td {
            padding: 16px;
            text-align: left;
            border: 4px solid var(--black);
        }

        .results-table th {
            background: var(--black);
            color: var(--white);
            font-weight: bold;
            text-transform: uppercase;
            font-size: 14px;
        }

        .results-table td {
            font-weight: bold;
            font-size: 16px;
        }

        .level-badge {
            display: inline-block;
            padding: 4px 12px;
            background: var(--black);
            color: var(--white);
            font-size: 12px;
            text-transform: uppercase;
            font-weight: bold;
        }

        /* Weak Points */
        .weak-points {
            border: var(--border-width) solid var(--black);
            padding: 24px;
            margin-bottom: 24px;
            background: var(--black);
            color: var(--white);
        }

        .weak-points h3 {
            font-size: 24px;
            margin-bottom: 16px;
            text-transform: uppercase;
        }

        .weak-points ul {
            list-style: none;
            padding: 0;
        }

        .weak-points li {
            padding: 12px 0;
            border-bottom: 2px solid var(--white);
            font-size: 16px;
        }

        .weak-points li:last-child {
            border-bottom: none;
        }

        /* Instructions */
        .instructions {
            background: var(--white);
            padding: 24px;
            margin-bottom: 24px;
            border: 4px solid var(--black);
            border-left: 20px solid var(--black);
        }

        .instructions h3 {
            font-size: 18px;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        .instructions ul {
            margin-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
        }

        /* Progress Tracking */
        .progress-row {
            display: grid;
            grid-template-columns: 200px repeat(3, 1fr);
            gap: 0;
            margin-bottom: 0;
            border: 4px solid var(--black);
        }

        .progress-cell {
            padding: 16px;
            border-right: 4px solid var(--black);
            border-bottom: 4px solid var(--black);
            font-weight: bold;
        }

        .progress-cell:last-child {
            border-right: none;
        }

        .progress-header {
            background: var(--black);
            color: var(--white);
            text-transform: uppercase;
            font-size: 14px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px;
            border: var(--border-width) solid var(--black);
            margin-top: 40px;
        }

        .footer p {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 32px;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                border-right: none;
                border-bottom: var(--border-width) solid var(--black);
            }

            .tab:last-child {
                border-bottom: none;
            }

            .klc-logo {
                font-size: 48px;
            }

            .progress-row {
                grid-template-columns: 1fr;
            }

            .progress-cell {
                border-right: none;
            }
        }

        /* Utility */
        .mb-24 { margin-bottom: 24px; }
        .text-center { text-align: center; }
        .bold { font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="klc-logo">KLC</div>
            <h1>Hybrid Athlete Assessment</h1>
            <p>Measure your performance across strength, conditioning, and movement quality</p>
        </div>

        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('profile')">Profile</button>
            <button class="tab" onclick="showTab('strength')">Strength</button>
            <button class="tab" onclick="showTab('conditioning')">Conditioning</button>
            <button class="tab" onclick="showTab('movement')">Movement</button>
            <button class="tab" onclick="showTab('results')">Results</button>
            <button class="tab" onclick="showTab('standards')">Standards</button>
            <button class="tab" onclick="showTab('tracker')">Progress</button>
            <button class="tab" onclick="showTab('reports')">Reports</button>
        </div>

        <!-- Tab 1: Profile -->
        <div id="profile" class="tab-content active">
            <div class="section">
                <div class="section-header">Your Profile</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Getting Started</h3>
                        <ul>
                            <li>Complete all sections to get your hybrid athlete score</li>
                            <li>Be honest with your numbers - this is for YOU</li>
                            <li>Test yourself properly before entering data</li>
                            <li>Save your results to track progress over time</li>
                        </ul>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" id="name" placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="age">Age</label>
                            <input type="number" id="age" placeholder="30">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="gender">Gender</label>
                            <select id="gender">
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="bodyweight">Bodyweight (kg)</label>
                            <input type="number" id="bodyweight" placeholder="82">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="experience">Training Experience</label>
                            <select id="experience">
                                <option value="beginner">Beginner (< 1 year)</option>
                                <option value="intermediate">Intermediate (1-3 years)</option>
                                <option value="advanced">Advanced (3+ years)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="testDate">Test Date</label>
                            <input type="text" id="testDate" placeholder="12/20/2024">
                        </div>
                    </div>

                    <button class="btn" onclick="saveProfile()">Save Profile</button>
                </div>
            </div>
        </div>

        <!-- Tab 2: Strength -->
        <div id="strength" class="tab-content">
            <div class="section">
                <div class="section-header">Strength Tests</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Instructions</h3>
                        <ul>
                            <li>Enter your 3RM (3 rep max) for each lift</li>
                            <li>Use your most recent 3RM from training</li>
                            <li>Warm up properly before testing</li>
                            <li>Use proper form - don't ego lift</li>
                        </ul>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="backSquat">Back Squat 3RM (kg)</label>
                            <input type="number" id="backSquat" placeholder="140">
                        </div>
                        <div class="form-group">
                            <label for="deadlift">Deadlift 3RM (kg)</label>
                            <input type="number" id="deadlift" placeholder="180">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="benchPress">Bench Press 3RM (kg)</label>
                            <input type="number" id="benchPress" placeholder="100">
                        </div>
                        <div class="form-group">
                            <label for="pullUps">Strict Pull-Ups (max reps)</label>
                            <input type="number" id="pullUps" placeholder="12">
                        </div>
                    </div>

                    <button class="btn" onclick="calculateStrength()">Calculate Strength Score</button>
                </div>
            </div>
        </div>

        <!-- Tab 3: Conditioning -->
        <div id="conditioning" class="tab-content">
            <div class="section">
                <div class="section-header">Conditioning Tests</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Instructions</h3>
                        <ul>
                            <li>Complete each test as a max effort</li>
                            <li>Rest 24-48 hours between tests</li>
                            <li>Enter times in MM:SS format (e.g., 1:45 for 500m row)</li>
                        </ul>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="row500">500m Row Time (MM:SS)</label>
                            <input type="text" id="row500" placeholder="1:45">
                        </div>
                        <div class="form-group">
                            <label for="row2k">2000m Row Time (MM:SS)</label>
                            <input type="text" id="row2k" placeholder="7:30">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="mile">1-Mile Run Time (MM:SS)</label>
                            <input type="text" id="mile" placeholder="7:00">
                        </div>
                        <div class="form-group">
                            <label for="fiveK">5K Run Time (MM:SS)</label>
                            <input type="text" id="fiveK" placeholder="23:00">
                        </div>
                    </div>

                    <button class="btn" onclick="calculateConditioning()">Calculate Conditioning Score</button>
                </div>
            </div>
        </div>

        <!-- Tab 4: Movement -->
        <div id="movement" class="tab-content">
            <div class="section">
                <div class="section-header">Movement Quality</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Instructions</h3>
                        <ul>
                            <li>Perform each test with strict form</li>
                            <li>Rate yourself honestly</li>
                            <li>Video yourself if possible to check form</li>
                        </ul>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="airSquat">Air Squat (20 reps quality)</label>
                            <select id="airSquat">
                                <option value="1">Fail - Cannot complete with form</option>
                                <option value="3">Pass - Can complete all criteria</option>
                                <option value="5">Excellent - Perfect form</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="pushUps">Push-Ups (max reps, strict)</label>
                            <input type="number" id="pushUps" placeholder="40">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="balance">Single-Leg Balance (seconds, eyes closed)</label>
                            <input type="number" id="balance" placeholder="30">
                        </div>
                        <div class="form-group">
                            <label for="overhead">Overhead Mobility</label>
                            <select id="overhead">
                                <option value="1">Fail - Cannot achieve position</option>
                                <option value="3">Marginal - With compensation</option>
                                <option value="5">Pass - Full range, no compensation</option>
                            </select>
                        </div>
                    </div>

                    <button class="btn" onclick="calculateMovement()">Calculate Movement Score</button>
                </div>
            </div>
        </div>

        <!-- Tab 5: Results -->
        <div id="results" class="tab-content">
            <div class="section">
                <div class="section-header">Your Results</div>
                <div class="section-content">
                    <div class="score-box">
                        <div class="score-value" id="totalScore">--</div>
                        <div class="score-label">Total Score / 40</div>
                    </div>

                    <div class="rating-display" id="ratingDisplay">
                        <div class="rating-title">Complete All Tests</div>
                        <div class="rating-desc">Fill out all sections to see your hybrid athlete rating</div>
                    </div>

                    <div class="chart-container">
                        <h3 class="bold">Score Breakdown</h3>
                        <div class="bar-chart" id="barChart">
                            <!-- Bars will be generated by JS -->
                        </div>
                    </div>

                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Your Result</th>
                                <th>Level</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 40px;">Complete the assessment to see your detailed results</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="weak-points" id="weakPoints" style="display: none;">
                        <h3>Your Weak Points</h3>
                        <ul id="weakPointsList"></ul>
                    </div>

                    <div class="text-center" style="margin-top: 32px;">
                        <button class="btn" onclick="generateReport()">Generate Full Report</button>
                        <button class="btn btn-secondary" onclick="saveResults()" style="margin-left: 16px;">Save Results</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 6: Standards -->
        <div id="standards" class="tab-content">
            <div class="section">
                <div class="section-header">Assessment Standards & Guidelines</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>How Scoring Works</h3>
                        <ul>
                            <li>Each test is scored from 1-5 points based on established benchmarks</li>
                            <li>Your 3RM is converted to an estimated 1RM (3RM × 1.11) for scoring</li>
                            <li>Strength tests use bodyweight ratios for fair comparison</li>
                            <li>Standards are based on drug-free, trained athletes</li>
                        </ul>
                    </div>

                    <h3 class="bold" style="margin: 32px 0 16px 0; font-size: 24px; text-transform: uppercase;">Strength Standards (Male)</h3>
                    
                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">BACK SQUAT (Bodyweight Ratio)</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Bodyweight Ratio</th>
                                <th>Example (82kg BW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&lt; 1.0x</td>
                                <td>&lt; 82 kg</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>1.0-1.5x</td>
                                <td>82-123 kg</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>1.5-2.0x</td>
                                <td>123-164 kg</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>2.0-2.5x</td>
                                <td>164-205 kg</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&gt; 2.5x</td>
                                <td>&gt; 205 kg</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">DEADLIFT (Bodyweight Ratio)</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Bodyweight Ratio</th>
                                <th>Example (82kg BW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&lt; 1.5x</td>
                                <td>&lt; 123 kg</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>1.5-2.0x</td>
                                <td>123-164 kg</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>2.0-2.5x</td>
                                <td>164-205 kg</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>2.5-3.0x</td>
                                <td>205-246 kg</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&gt; 3.0x</td>
                                <td>&gt; 246 kg</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">BENCH PRESS (Bodyweight Ratio)</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Bodyweight Ratio</th>
                                <th>Example (82kg BW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&lt; 1.0x</td>
                                <td>&lt; 82 kg</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>1.0-1.25x</td>
                                <td>82-102 kg</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>1.25-1.5x</td>
                                <td>102-123 kg</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>1.5-1.75x</td>
                                <td>123-143 kg</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&gt; 1.75x</td>
                                <td>&gt; 143 kg</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">STRICT PULL-UPS</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Reps (Male)</th>
                                <th>Reps (Female)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&lt; 4</td>
                                <td>&lt; 2</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>4-7</td>
                                <td>2-4</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>8-12</td>
                                <td>5-8</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>13-20</td>
                                <td>9-15</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&gt; 20</td>
                                <td>&gt; 15</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="bold" style="margin: 32px 0 16px 0; font-size: 24px; text-transform: uppercase;">Conditioning Standards (Male)</h3>

                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">500M ROW</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Time (Male)</th>
                                <th>Time (Female)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&gt; 2:30</td>
                                <td>&gt; 2:50</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>2:10-2:30</td>
                                <td>2:30-2:50</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>1:50-2:10</td>
                                <td>2:10-2:30</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>1:35-1:50</td>
                                <td>1:55-2:10</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&lt; 1:35</td>
                                <td>&lt; 1:55</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">1-MILE RUN</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Time (Male)</th>
                                <th>Time (Female)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&gt; 10:00</td>
                                <td>&gt; 12:00</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>8:30-10:00</td>
                                <td>10:00-12:00</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>7:00-8:30</td>
                                <td>8:30-10:00</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>6:00-7:00</td>
                                <td>7:00-8:30</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&lt; 6:00</td>
                                <td>&lt; 7:00</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 class="bold" style="margin: 24px 0 12px 0; font-size: 18px;">PUSH-UPS (Max Reps, Strict)</h4>
                    <table class="results-table" style="margin-bottom: 32px;">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Points</th>
                                <th>Reps (Male)</th>
                                <th>Reps (Female)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Beginner</td>
                                <td>1</td>
                                <td>&lt; 10</td>
                                <td>&lt; 5</td>
                            </tr>
                            <tr>
                                <td>Novice</td>
                                <td>2</td>
                                <td>10-20</td>
                                <td>5-15</td>
                            </tr>
                            <tr>
                                <td>Intermediate</td>
                                <td>3</td>
                                <td>20-40</td>
                                <td>15-30</td>
                            </tr>
                            <tr>
                                <td>Advanced</td>
                                <td>4</td>
                                <td>40-60</td>
                                <td>30-45</td>
                            </tr>
                            <tr>
                                <td>Elite</td>
                                <td>5</td>
                                <td>&gt; 60</td>
                                <td>&gt; 45</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 class="bold" style="margin: 32px 0 16px 0; font-size: 24px; text-transform: uppercase;">Overall Rating Scale</h3>
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>Total Score</th>
                                <th>Rating</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>8-16</td>
                                <td><span class="level-badge">Beginner</span></td>
                                <td>New to structured training or returning after time off</td>
                            </tr>
                            <tr>
                                <td>17-24</td>
                                <td><span class="level-badge">Intermediate</span></td>
                                <td>1-2 years consistent training, solid foundation</td>
                            </tr>
                            <tr>
                                <td>25-32</td>
                                <td><span class="level-badge">Advanced</span></td>
                                <td>3-5 years training, well-rounded athlete</td>
                            </tr>
                            <tr>
                                <td>33-40</td>
                                <td><span class="level-badge">Elite</span></td>
                                <td>5+ years training, competitive level athlete</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="instructions" style="margin-top: 32px;">
                        <h3>Data Sources</h3>
                        <ul>
                            <li>Strength standards: Based on 800,000+ drug-tested powerlifting competition entries</li>
                            <li>Rowing standards: Concept2 online rankings database</li>
                            <li>Running standards: RunningLevel.com performance data</li>
                            <li>Movement quality: Functional Movement Screen (FMS) principles</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 7: Progress Tracker -->
        <div id="tracker" class="tab-content">
            <div class="section">
                <div class="section-header">Progress Tracker</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Track Your Progress</h3>
                        <ul>
                            <li>Re-test every 8-12 weeks</li>
                            <li>Compare your scores over time</li>
                            <li>Identify which areas are improving</li>
                            <li>Adjust your training based on weak points</li>
                        </ul>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell progress-header">Test</div>
                        <div class="progress-cell progress-header">Baseline</div>
                        <div class="progress-cell progress-header">Test 2</div>
                        <div class="progress-cell progress-header">Test 3</div>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell">Back Squat</div>
                        <div class="progress-cell" id="track-squat-1">--</div>
                        <div class="progress-cell"><input type="number" id="track-squat-2" placeholder="140"></div>
                        <div class="progress-cell"><input type="number" id="track-squat-3" placeholder="150"></div>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell">Deadlift</div>
                        <div class="progress-cell" id="track-dead-1">--</div>
                        <div class="progress-cell"><input type="number" id="track-dead-2" placeholder="180"></div>
                        <div class="progress-cell"><input type="number" id="track-dead-3" placeholder="190"></div>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell">Bench Press</div>
                        <div class="progress-cell" id="track-bench-1">--</div>
                        <div class="progress-cell"><input type="number" id="track-bench-2" placeholder="100"></div>
                        <div class="progress-cell"><input type="number" id="track-bench-3" placeholder="107"></div>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell">500m Row</div>
                        <div class="progress-cell" id="track-row-1">--</div>
                        <div class="progress-cell"><input type="text" id="track-row-2" placeholder="1:42"></div>
                        <div class="progress-cell"><input type="text" id="track-row-3" placeholder="1:38"></div>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell">1-Mile Run</div>
                        <div class="progress-cell" id="track-mile-1">--</div>
                        <div class="progress-cell"><input type="text" id="track-mile-2" placeholder="6:50"></div>
                        <div class="progress-cell"><input type="text" id="track-mile-3" placeholder="6:35"></div>
                    </div>

                    <div class="progress-row">
                        <div class="progress-cell progress-header">Total Score</div>
                        <div class="progress-cell progress-header" id="track-score-1">--</div>
                        <div class="progress-cell progress-header" id="track-score-2">--</div>
                        <div class="progress-cell progress-header" id="track-score-3">--</div>
                    </div>

                    <div style="margin-top: 24px;">
                        <button class="btn" onclick="updateProgress()">Update Progress</button>
                        <button class="btn btn-secondary" onclick="exportData()" style="margin-left: 16px;">Export Data</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 8: Past Reports -->
        <div id="reports" class="tab-content">
            <div class="section">
                <div class="section-header">Past Assessment Reports</div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Your Assessment History</h3>
                        <ul>
                            <li>All generated reports are saved here automatically</li>
                            <li>Compare your progress over multiple test dates</li>
                            <li>Download previous reports anytime</li>
                            <li>Track improvements in individual categories</li>
                        </ul>
                    </div>

                    <div id="reportsContainer">
                        <div style="text-align: center; padding: 60px 20px; border: 4px solid var(--black);">
                            <h3 class="bold" style="font-size: 24px; margin-bottom: 16px; text-transform: uppercase;">No Reports Yet</h3>
                            <p style="margin-bottom: 24px;">Complete an assessment and generate a report to see it here.</p>
                            <button class="btn" onclick="showTab('profile'); document.querySelectorAll('.tab')[0].classList.add('active');">Start Assessment</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Kane Laverty Coaching © 2024 | @coach.kanelaverty</p>
        </div>
    </div>

    <script>
        // Data storage
        let assessmentData = {
            profile: {},
            strength: {},
            conditioning: {},
            movement: {},
            scores: {}
        };

        // Tab switching
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // Save profile
        function saveProfile() {
            assessmentData.profile = {
                name: document.getElementById('name').value,
                age: parseInt(document.getElementById('age').value),
                gender: document.getElementById('gender').value,
                bodyweight: parseFloat(document.getElementById('bodyweight').value),
                experience: document.getElementById('experience').value,
                testDate: document.getElementById('testDate').value
            };
            
            alert('Profile saved! Move to the Strength tab.');
            showTab('strength');
            document.querySelectorAll('.tab')[1].classList.add('active');
        }

        // Strength calculations
        function calculateStrength() {
            const bodyweight = assessmentData.profile.bodyweight;
            const gender = assessmentData.profile.gender;
            
            // Get 3RM values
            const squat3rm = parseFloat(document.getElementById('backSquat').value);
            const deadlift3rm = parseFloat(document.getElementById('deadlift').value);
            const bench3rm = parseFloat(document.getElementById('benchPress').value);
            const pullups = parseInt(document.getElementById('pullUps').value);
            
            // Convert 3RM to estimated 1RM (3RM is approximately 90% of 1RM)
            const squat = squat3rm * 1.11;
            const deadlift = deadlift3rm * 1.11;
            const bench = bench3rm * 1.11;
            
            assessmentData.strength = {
                backSquat: squat3rm,
                backSquat1RM: squat,
                deadlift: deadlift3rm,
                deadlift1RM: deadlift,
                benchPress: bench3rm,
                benchPress1RM: bench,
                pullUps: pullups
            };
            
            // Calculate ratios
            const squatRatio = squat / bodyweight;
            const deadliftRatio = deadlift / bodyweight;
            const benchRatio = bench / bodyweight;
            
            // Score based on standards
            assessmentData.scores.squat = scoreStrength(squatRatio, gender, 'squat');
            assessmentData.scores.deadlift = scoreStrength(deadliftRatio, gender, 'deadlift');
            assessmentData.scores.bench = scoreStrength(benchRatio, gender, 'bench');
            assessmentData.scores.pullups = scorePullups(pullups, gender);
            
            alert('Strength scores calculated! Move to Conditioning.');
            showTab('conditioning');
            document.querySelectorAll('.tab')[2].classList.add('active');
        }

        function scoreStrength(ratio, gender, lift) {
            // Hybrid athlete standards - more balanced than pure powerlifting
            if (gender === 'male') {
                if (lift === 'squat') {
                    // CrossFit/Functional fitness standards
                    if (ratio < 1.25) return 1;  // Beginner
                    if (ratio < 1.5) return 2;   // Novice - "decent" for CrossFit
                    if (ratio < 1.75) return 3;  // Intermediate - solid functional athlete
                    if (ratio < 2.0) return 4;   // Advanced - competitive level
                    return 5;                     // Elite - top 10%
                } else if (lift === 'deadlift') {
                    // Hybrid athletes: 1.5x BW is baseline, 2x is solid
                    if (ratio < 1.5) return 1;
                    if (ratio < 2.0) return 2;
                    if (ratio < 2.25) return 3;
                    if (ratio < 2.5) return 4;
                    return 5;
                } else if (lift === 'bench') {
                    // Functional fitness has less bench emphasis
                    if (ratio < 0.75) return 1;
                    if (ratio < 1.0) return 2;   // Bodyweight bench is solid for hybrid
                    if (ratio < 1.25) return 3;
                    if (ratio < 1.5) return 4;
                    return 5;
                }
            } else {
                // Female hybrid athlete standards
                if (lift === 'squat') {
                    if (ratio < 1.0) return 1;
                    if (ratio < 1.25) return 2;
                    if (ratio < 1.5) return 3;
                    if (ratio < 1.75) return 4;
                    return 5;
                } else if (lift === 'deadlift') {
                    if (ratio < 1.0) return 1;
                    if (ratio < 1.5) return 2;
                    if (ratio < 1.75) return 3;
                    if (ratio < 2.0) return 4;
                    return 5;
                } else if (lift === 'bench') {
                    if (ratio < 0.4) return 1;
                    if (ratio < 0.6) return 2;
                    if (ratio < 0.8) return 3;
                    if (ratio < 1.0) return 4;
                    return 5;
                }
            }
            return 3;
        }

        function scorePullups(reps, gender) {
            if (gender === 'male') {
                if (reps < 4) return 1;
                if (reps < 8) return 2;
                if (reps < 13) return 3;
                if (reps < 20) return 4;
                return 5;
            }
            return 3;
        }

        // Conditioning calculations
        function calculateConditioning() {
            const row500 = document.getElementById('row500').value;
            const mile = document.getElementById('mile').value;
            
            assessmentData.conditioning = {
                row500: row500,
                row2k: document.getElementById('row2k').value,
                mile: mile,
                fiveK: document.getElementById('fiveK').value
            };
            
            // Convert MM:SS to seconds for scoring
            const row500Seconds = timeToSeconds(row500);
            const mileSeconds = timeToSeconds(mile);
            
            assessmentData.scores.row = scoreRow(row500Seconds, assessmentData.profile.gender);
            assessmentData.scores.run = scoreRun(mileSeconds, assessmentData.profile.gender);
            
            alert('Conditioning scores calculated! Move to Movement.');
            showTab('movement');
            document.querySelectorAll('.tab')[3].classList.add('active');
        }

        function timeToSeconds(timeStr) {
            const parts = timeStr.split(':');
            return parseInt(parts[0]) * 60 + parseFloat(parts[1]);
        }

        function scoreRow(seconds, gender) {
            // Male 500m standards (in seconds)
            if (gender === 'male') {
                if (seconds > 150) return 1; // >2:30
                if (seconds > 130) return 2; // >2:10
                if (seconds > 110) return 3; // >1:50
                if (seconds > 95) return 4;  // >1:35
                return 5; // <1:35
            }
            return 3;
        }

        function scoreRun(seconds, gender) {
            // Male 1-mile standards (in seconds)
            if (gender === 'male') {
                if (seconds > 600) return 1; // >10:00
                if (seconds > 510) return 2; // >8:30
                if (seconds > 420) return 3; // >7:00
                if (seconds > 360) return 4; // >6:00
                return 5; // <6:00
            }
            return 3;
        }

        // Movement calculations
        function calculateMovement() {
            const airSquat = parseInt(document.getElementById('airSquat').value);
            const pushups = parseInt(document.getElementById('pushUps').value);
            const balance = parseInt(document.getElementById('balance').value);
            const overhead = parseInt(document.getElementById('overhead').value);
            
            assessmentData.movement = {
                airSquat: airSquat,
                pushUps: pushups,
                balance: balance,
                overhead: overhead
            };
            
            // Score push-ups
            assessmentData.scores.pushups = scorePushups(pushups, assessmentData.profile.gender);
            assessmentData.scores.mobility = (airSquat + overhead) / 2; // Average
            
            // Calculate total and show results
            calculateTotal();
            
            alert('Assessment complete! Check your results.');
            showTab('results');
            document.querySelectorAll('.tab')[4].classList.add('active');
        }

        function scorePushups(reps, gender) {
            if (gender === 'male') {
                if (reps < 10) return 1;
                if (reps < 20) return 2;
                if (reps < 40) return 3;
                if (reps < 60) return 4;
                return 5;
            }
            return 3;
        }

        // Calculate total score and display
        function calculateTotal() {
            const scores = assessmentData.scores;
            const total = (scores.squat || 0) + (scores.deadlift || 0) + 
                         (scores.bench || 0) + (scores.pullups || 0) +
                         (scores.row || 0) + (scores.run || 0) +
                         (scores.pushups || 0) + (scores.mobility || 0);
            
            document.getElementById('totalScore').textContent = total;
            
            // Display rating
            let rating, description;
            if (total < 17) {
                rating = 'BEGINNER';
                description = 'New to structured training or returning after time off. Focus on building foundations.';
            } else if (total < 25) {
                rating = 'INTERMEDIATE';
                description = '1-2 years consistent training with solid foundation. Ready to push harder.';
            } else if (total < 33) {
                rating = 'ADVANCED';
                description = '3-5 years training experience. Well-rounded athlete with strong capabilities.';
            } else {
                rating = 'ELITE';
                description = '5+ years training. Competitive level athlete. Top 10% of population.';
            }
            
            document.getElementById('ratingDisplay').innerHTML = `
                <div class="rating-title">${rating}</div>
                <div class="rating-desc">${description}</div>
            `;
            
            // Generate bar chart
            generateBarChart(scores);
            
            // Populate results table
            populateResultsTable();
            
            // Show weak points
            showWeakPoints(scores);
            
            // Populate tracker baseline
            populateTracker();
        }

        function generateBarChart(scores) {
            const categories = ['Squat', 'Deadlift', 'Bench', 'Pull-ups', 'Row', 'Run', 'Push-ups', 'Mobility'];
            const values = [
                scores.squat || 0,
                scores.deadlift || 0,
                scores.bench || 0,
                scores.pullups || 0,
                scores.row || 0,
                scores.run || 0,
                scores.pushups || 0,
                scores.mobility || 0
            ];
            
            const chartHTML = values.map((value, i) => {
                const height = (value / 5) * 100; // Max 5 points = 100%
                return `
                    <div class="bar" style="height: ${height}%">
                        <div class="bar-value">${value}</div>
                        <div class="bar-label">${categories[i]}</div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('barChart').innerHTML = chartHTML;
        }

        function populateResultsTable() {
            const data = assessmentData;
            const scores = assessmentData.scores;
            
            const getLevelBadge = (score) => {
                if (score <= 1) return 'Beginner';
                if (score <= 2) return 'Novice';
                if (score <= 3) return 'Intermediate';
                if (score <= 4) return 'Advanced';
                return 'Elite';
            };
            
            const rows = [
                { name: 'Back Squat', value: `${data.strength.backSquat} kg (3RM)`, level: getLevelBadge(scores.squat), points: scores.squat },
                { name: 'Deadlift', value: `${data.strength.deadlift} kg (3RM)`, level: getLevelBadge(scores.deadlift), points: scores.deadlift },
                { name: 'Bench Press', value: `${data.strength.benchPress} kg (3RM)`, level: getLevelBadge(scores.bench), points: scores.bench },
                { name: 'Pull-Ups', value: `${data.strength.pullUps} reps`, level: getLevelBadge(scores.pullups), points: scores.pullups },
                { name: '500m Row', value: data.conditioning.row500, level: getLevelBadge(scores.row), points: scores.row },
                { name: '1-Mile Run', value: data.conditioning.mile, level: getLevelBadge(scores.run), points: scores.run },
                { name: 'Push-Ups', value: `${data.movement.pushUps} reps`, level: getLevelBadge(scores.pushups), points: scores.pushups },
                { name: 'Mobility', value: 'Assessment', level: getLevelBadge(scores.mobility), points: Math.round(scores.mobility) }
            ];
            
            const tableHTML = rows.map(row => `
                <tr>
                    <td>${row.name}</td>
                    <td>${row.value}</td>
                    <td><span class="level-badge">${row.level}</span></td>
                    <td>${row.points}/5</td>
                </tr>
            `).join('');
            
            document.getElementById('resultsTableBody').innerHTML = tableHTML;
        }

        function showWeakPoints(scores) {
            const categories = [
                { name: 'Back Squat', score: scores.squat || 0, value: assessmentData.strength.backSquat || 0, unit: 'kg (3RM)' },
                { name: 'Deadlift', score: scores.deadlift || 0, value: assessmentData.strength.deadlift || 0, unit: 'kg (3RM)' },
                { name: 'Bench Press', score: scores.bench || 0, value: assessmentData.strength.benchPress || 0, unit: 'kg (3RM)' },
                { name: 'Pull-Ups', score: scores.pullups || 0, value: assessmentData.strength.pullUps || 0, unit: 'reps' },
                { name: '500m Row', score: scores.row || 0, value: assessmentData.conditioning.row500 || 'N/A', unit: '' },
                { name: '1-Mile Run', score: scores.run || 0, value: assessmentData.conditioning.mile || 'N/A', unit: '' },
                { name: 'Push-Ups', score: scores.pushups || 0, value: assessmentData.movement.pushUps || 0, unit: 'reps' },
                { name: 'Mobility', score: Math.round(scores.mobility) || 0, value: 'Assessment', unit: '' }
            ];
            
            const weakPoints = categories
                .filter(cat => cat.score < 3 && cat.score > 0)
                .sort((a, b) => a.score - b.score)
                .slice(0, 3);
            
            if (weakPoints.length > 0) {
                const listHTML = weakPoints.map(point => {
                    const targetLevel = point.score === 1 ? 'Novice (2 pts)' : 'Intermediate (3 pts)';
                    return `<li><strong>${point.name}</strong>: ${point.value} ${point.unit} - Currently ${getLevelName(point.score).trim()} (${point.score}/5 pts)<br>
                    → Target: Reach ${targetLevel} by improving this area in your training</li>`;
                }).join('');
                
                document.getElementById('weakPointsList').innerHTML = listHTML;
                document.getElementById('weakPoints').style.display = 'block';
            } else {
                document.getElementById('weakPoints').style.display = 'none';
            }
        }

        function populateTracker() {
            document.getElementById('track-squat-1').textContent = assessmentData.strength.backSquat;
            document.getElementById('track-dead-1').textContent = assessmentData.strength.deadlift;
            document.getElementById('track-bench-1').textContent = assessmentData.strength.benchPress;
            document.getElementById('track-row-1').textContent = assessmentData.conditioning.row500;
            document.getElementById('track-mile-1').textContent = assessmentData.conditioning.mile;
            
            const total = Object.values(assessmentData.scores).reduce((a, b) => a + b, 0);
            document.getElementById('track-score-1').textContent = total;
        }

        function saveResults() {
            const dataStr = JSON.stringify(assessmentData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `KLC-Assessment-${Date.now()}.json`;
            link.click();
            
            // Also save to localStorage for reports history
            saveReportToHistory();
            
            alert('Results saved! You can upload this file to track progress.');
        }
        
        function saveReportToHistory() {
            const total = Object.values(assessmentData.scores).reduce((a, b) => a + b, 0);
            let rating = '';
            if (total < 17) rating = 'BEGINNER';
            else if (total < 25) rating = 'INTERMEDIATE';
            else if (total < 33) rating = 'ADVANCED';
            else rating = 'ELITE';
            
            const report = {
                id: Date.now(),
                date: new Date().toLocaleDateString(),
                time: new Date().toLocaleTimeString(),
                name: assessmentData.profile.name,
                totalScore: total,
                rating: rating,
                data: JSON.parse(JSON.stringify(assessmentData)) // Deep copy
            };
            
            // Get existing reports
            let reports = JSON.parse(localStorage.getItem('klcReports') || '[]');
            reports.unshift(report); // Add to beginning
            
            // Keep only last 10 reports
            if (reports.length > 10) {
                reports = reports.slice(0, 10);
            }
            
            localStorage.setItem('klcReports', JSON.stringify(reports));
            
            // Update reports display
            displayReports();
        }
        
        function displayReports() {
            const reports = JSON.parse(localStorage.getItem('klcReports') || '[]');
            const container = document.getElementById('reportsContainer');
            
            if (reports.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px; border: 4px solid var(--black);">
                        <h3 class="bold" style="font-size: 24px; margin-bottom: 16px; text-transform: uppercase;">No Reports Yet</h3>
                        <p style="margin-bottom: 24px;">Complete an assessment and generate a report to see it here.</p>
                        <button class="btn" onclick="showTab('profile'); document.querySelectorAll('.tab')[0].classList.add('active');">Start Assessment</button>
                    </div>
                `;
                return;
            }
            
            let html = '';
            reports.forEach((report, index) => {
                html += `
                    <div style="border: 4px solid var(--black); padding: 24px; margin-bottom: 24px; background: ${index === 0 ? 'var(--black)' : 'var(--white)'}; color: ${index === 0 ? 'var(--white)' : 'var(--black)'};">
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 24px; align-items: center;">
                            <div>
                                <div style="font-size: 14px; text-transform: uppercase; margin-bottom: 4px; opacity: 0.7;">Date</div>
                                <div style="font-size: 18px; font-weight: bold;">${report.date} ${report.time}</div>
                            </div>
                            <div>
                                <div style="font-size: 14px; text-transform: uppercase; margin-bottom: 4px; opacity: 0.7;">Score</div>
                                <div style="font-size: 18px; font-weight: bold;">${report.totalScore}/40</div>
                            </div>
                            <div>
                                <div style="font-size: 14px; text-transform: uppercase; margin-bottom: 4px; opacity: 0.7;">Rating</div>
                                <div style="font-size: 18px; font-weight: bold;">${report.rating}</div>
                            </div>
                            <div>
                                <button class="btn${index === 0 ? ' btn-secondary' : ''}" onclick="viewReport(${report.id})" style="padding: 12px 24px;">View</button>
                                <button class="btn${index === 0 ? ' btn-secondary' : ''}" onclick="downloadReport(${report.id})" style="padding: 12px 24px; margin-left: 8px;">Download</button>
                            </div>
                        </div>
                        ${index === 0 ? '<div style="margin-top: 12px; font-size: 14px; text-transform: uppercase; opacity: 0.7;">← Most Recent</div>' : ''}
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function viewReport(reportId) {
            const reports = JSON.parse(localStorage.getItem('klcReports') || '[]');
            const report = reports.find(r => r.id === reportId);
            
            if (!report) {
                alert('Report not found');
                return;
            }
            
            // Display report details
            const categories = [
                { name: 'Back Squat', value: report.data.strength.backSquat, unit: 'kg', score: report.data.scores.squat },
                { name: 'Deadlift', value: report.data.strength.deadlift, unit: 'kg', score: report.data.scores.deadlift },
                { name: 'Bench Press', value: report.data.strength.benchPress, unit: 'kg', score: report.data.scores.bench },
                { name: 'Pull-Ups', value: report.data.strength.pullUps, unit: 'reps', score: report.data.scores.pullups },
                { name: '500m Row', value: report.data.conditioning.row500, unit: '', score: report.data.scores.row },
                { name: '1-Mile Run', value: report.data.conditioning.mile, unit: '', score: report.data.scores.run },
                { name: 'Push-Ups', value: report.data.movement.pushUps, unit: 'reps', score: report.data.scores.pushups },
                { name: 'Mobility', value: 'Assessment', unit: '', score: Math.round(report.data.scores.mobility) }
            ];
            
            let details = `ASSESSMENT REPORT - ${report.date}\n\n`;
            details += `Name: ${report.name}\n`;
            details += `Total Score: ${report.totalScore}/40\n`;
            details += `Rating: ${report.rating}\n\n`;
            details += `DETAILED RESULTS:\n`;
            categories.forEach(cat => {
                details += `${cat.name}: ${cat.value} ${cat.unit} (${cat.score}/5 pts)\n`;
            });
            
            alert(details);
        }
        
        function downloadReport(reportId) {
            const reports = JSON.parse(localStorage.getItem('klcReports') || '[]');
            const report = reports.find(r => r.id === reportId);
            
            if (!report) {
                alert('Report not found');
                return;
            }
            
            // Generate report text from saved data
            assessmentData = report.data; // Temporarily load data
            generateReport();
        }

        function generateReport() {
            if (!assessmentData.profile.name) {
                alert('Please complete the assessment first!');
                return;
            }
            
            // Check if all scores exist
            if (!assessmentData.scores || Object.keys(assessmentData.scores).length === 0) {
                alert('Please complete all sections of the assessment first!');
                return;
            }
            
            // Create a comprehensive text report
            const total = Object.values(assessmentData.scores).reduce((a, b) => a + b, 0);
            let rating = '';
            if (total < 17) rating = 'BEGINNER';
            else if (total < 25) rating = 'INTERMEDIATE';
            else if (total < 33) rating = 'ADVANCED';
            else rating = 'ELITE';
            
            const report = `
════════════════════════════════════════════════════════════
KANE LAVERTY COACHING - HYBRID ATHLETE ASSESSMENT REPORT
════════════════════════════════════════════════════════════

ATHLETE PROFILE
────────────────────────────────────────────────────────────
Name:               ${assessmentData.profile.name}
Age:                ${assessmentData.profile.age} years
Gender:             ${assessmentData.profile.gender}
Bodyweight:         ${assessmentData.profile.bodyweight} kg
Experience:         ${assessmentData.profile.experience}
Test Date:          ${assessmentData.profile.testDate}

════════════════════════════════════════════════════════════
OVERALL RATING: ${rating}
TOTAL SCORE: ${total} / 40 POINTS
════════════════════════════════════════════════════════════

STRENGTH ASSESSMENT
────────────────────────────────────────────────────────────
Back Squat (3RM):   ${assessmentData.strength.backSquat || 0} kg
  • Est. 1RM:       ${(assessmentData.strength.backSquat1RM || 0).toFixed(1)} kg
  • Ratio:          ${((assessmentData.strength.backSquat1RM || 0) / (assessmentData.profile.bodyweight || 1)).toFixed(2)}x BW
  • Score:          ${assessmentData.scores.squat || 0}/5 points
  
Deadlift (3RM):     ${assessmentData.strength.deadlift || 0} kg
  • Est. 1RM:       ${(assessmentData.strength.deadlift1RM || 0).toFixed(1)} kg
  • Ratio:          ${((assessmentData.strength.deadlift1RM || 0) / (assessmentData.profile.bodyweight || 1)).toFixed(2)}x BW
  • Score:          ${assessmentData.scores.deadlift || 0}/5 points
  
Bench Press (3RM):  ${assessmentData.strength.benchPress || 0} kg
  • Est. 1RM:       ${(assessmentData.strength.benchPress1RM || 0).toFixed(1)} kg
  • Ratio:          ${((assessmentData.strength.benchPress1RM || 0) / (assessmentData.profile.bodyweight || 1)).toFixed(2)}x BW
  • Score:          ${assessmentData.scores.bench || 0}/5 points
  
Strict Pull-Ups:    ${assessmentData.strength.pullUps || 0} reps
  • Score:          ${assessmentData.scores.pullups || 0}/5 points

CONDITIONING ASSESSMENT
────────────────────────────────────────────────────────────
500m Row:           ${assessmentData.conditioning.row500 || 'N/A'}
  • Score:          ${assessmentData.scores.row || 0}/5 points
  
2000m Row:          ${assessmentData.conditioning.row2k || 'N/A'}

1-Mile Run:         ${assessmentData.conditioning.mile || 'N/A'}
  • Score:          ${assessmentData.scores.run || 0}/5 points
  
5K Run:             ${assessmentData.conditioning.fiveK || 'N/A'}

MOVEMENT QUALITY
────────────────────────────────────────────────────────────
Air Squat:          ${(assessmentData.movement.airSquat || 0) === 5 ? 'Excellent' : (assessmentData.movement.airSquat || 0) === 3 ? 'Pass' : 'Needs Work'}
Push-Ups:           ${assessmentData.movement.pushUps || 0} reps
  • Score:          ${assessmentData.scores.pushups || 0}/5 points
  
Balance Test:       ${assessmentData.movement.balance || 0} seconds
Overhead Mobility:  ${(assessmentData.movement.overhead || 0) === 5 ? 'Pass' : (assessmentData.movement.overhead || 0) === 3 ? 'Marginal' : 'Fail'}
  • Mobility Score: ${Math.round(assessmentData.scores.mobility || 0)}/5 points

════════════════════════════════════════════════════════════
SCORE BREAKDOWN
════════════════════════════════════════════════════════════
Category                Points      Level
────────────────────────────────────────────────────────────
Back Squat              ${assessmentData.scores.squat || 0}/5         ${getLevelName(assessmentData.scores.squat)}
Deadlift                ${assessmentData.scores.deadlift || 0}/5         ${getLevelName(assessmentData.scores.deadlift)}
Bench Press             ${assessmentData.scores.bench || 0}/5         ${getLevelName(assessmentData.scores.bench)}
Pull-Ups                ${assessmentData.scores.pullups || 0}/5         ${getLevelName(assessmentData.scores.pullups)}
500m Row                ${assessmentData.scores.row || 0}/5         ${getLevelName(assessmentData.scores.row)}
1-Mile Run              ${assessmentData.scores.run || 0}/5         ${getLevelName(assessmentData.scores.run)}
Push-Ups                ${assessmentData.scores.pushups || 0}/5         ${getLevelName(assessmentData.scores.pushups)}
Mobility                ${Math.round(assessmentData.scores.mobility || 0)}/5         ${getLevelName(assessmentData.scores.mobility)}
────────────────────────────────────────────────────────────
TOTAL                   ${total}/40

════════════════════════════════════════════════════════════
WEAK POINTS (PRIORITY TRAINING AREAS)
════════════════════════════════════════════════════════════
${getWeakPointsText()}

════════════════════════════════════════════════════════════
RECOMMENDATIONS
════════════════════════════════════════════════════════════
${getRecommendations(total)}

════════════════════════════════════════════════════════════
NEXT STEPS
════════════════════════════════════════════════════════════
1. Re-test every 8-12 weeks to track progress
2. Focus training on your weak point categories
3. Maintain strength in your strong areas
4. Consider working with a coach for personalized programming

Want help building a program to improve your score?
Contact: @coach.kanelaverty
Website: [Your Website]
Email: [Your Email]

════════════════════════════════════════════════════════════
KANE LAVERTY COACHING
Hybrid Training for Everyday Athletes
════════════════════════════════════════════════════════════

Generated: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}
`;
            
            // Download as text file
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `KLC-Assessment-Report-${assessmentData.profile.name.replace(/\s/g, '-')}-${Date.now()}.txt`;
            link.click();
            URL.revokeObjectURL(url);
            
            // Save to history after successful generation
            saveReportToHistory();
            
            alert('Report generated and downloaded! Check your downloads folder.');
        }
        
        function getLevelName(score) {
            if (!score || score <= 0) return 'Not Tested ';
            if (score <= 1) return 'Beginner   ';
            if (score <= 2) return 'Novice     ';
            if (score <= 3) return 'Intermediate';
            if (score <= 4) return 'Advanced   ';
            return 'Elite      ';
        }
        
        function getWeakPointsText() {
            if (!assessmentData.scores) {
                return 'Complete the assessment to see weak points.';
            }
            
            const categories = [
                { name: 'Back Squat', score: assessmentData.scores.squat || 0 },
                { name: 'Deadlift', score: assessmentData.scores.deadlift || 0 },
                { name: 'Bench Press', score: assessmentData.scores.bench || 0 },
                { name: 'Pull-Ups', score: assessmentData.scores.pullups || 0 },
                { name: '500m Row', score: assessmentData.scores.row || 0 },
                { name: '1-Mile Run', score: assessmentData.scores.run || 0 },
                { name: 'Push-Ups', score: assessmentData.scores.pushups || 0 },
                { name: 'Mobility', score: assessmentData.scores.mobility || 0 }
            ];
            
            const weakPoints = categories
                .filter(cat => cat.score > 0 && cat.score < 3)
                .sort((a, b) => a.score - b.score)
                .slice(0, 3);
            
            if (weakPoints.length === 0) {
                return 'No major weak points identified. Well-rounded athlete!\nFocus on pushing all categories to 4+ points.';
            }
            
            let text = '';
            weakPoints.forEach((point, i) => {
                text += `${i + 1}. ${point.name} (${point.score}/5 points)\n`;
                text += `   → This is a priority area for improvement\n`;
            });
            
            return text;
        }
        
        function getRecommendations(total) {
            let recs = '';
            
            if (total < 17) {
                recs = `As a BEGINNER level athlete, focus on:
• Building consistent training habits (3-4 days per week minimum)
• Learning proper movement patterns with lighter loads
• Developing a base of aerobic fitness with Zone 2 cardio
• Progressive overload in all major lifts
• Consider working with a coach to accelerate progress`;
            } else if (total < 25) {
                recs = `As an INTERMEDIATE level athlete, focus on:
• Periodized training blocks (4-8 week cycles)
• Addressing your specific weak points with dedicated work
• Progressive overload while maintaining technique
• Adding more volume to lagging areas
• Nutrition and recovery optimization`;
            } else if (total < 33) {
                recs = `As an ADVANCED level athlete, focus on:
• Sport-specific programming if you have competition goals
• Maintaining balanced development across all domains
• Advanced periodization and training strategies
• Peak performance protocols for testing/competition
• Consider coaching to break through plateaus`;
            } else {
                recs = `As an ELITE level athlete, focus on:
• Competition-specific preparation if applicable
• Fine-tuning weaknesses (even at 4/5, there's room to grow)
• Advanced recovery and performance optimization
• Potentially helping others as you're in the top 10%
• Setting new personal bests and pushing limits`;
            }
            
            return recs;
        }

        function updateProgress() {
            alert('Progress updated! Your improvements are tracked in the table above.');
        }

        function exportData() {
            alert('Export functionality coming soon!');
        }

        // Auto-save to localStorage
        setInterval(() => {
            localStorage.setItem('klcAssessment', JSON.stringify(assessmentData));
        }, 30000); // Save every 30 seconds

        // Load from localStorage on page load
        window.onload = () => {
            const saved = localStorage.getItem('klcAssessment');
            if (saved) {
                assessmentData = JSON.parse(saved);
                // Populate fields if data exists
            }
            
            // Display saved reports
            displayReports();
        };
    </script>
</body>
</html>
